# üß™ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ BLOCK BUILDER –í POSTMAN

## üìã **–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Unified Document Service –∑–∞–ø—É—â–µ–Ω:
- URL: http://localhost:8001
- Health Check: GET http://localhost:8001/healthz (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status":"ok"}`)
- API Docs: http://localhost:8001/docs

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ Postman –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

## üéØ **–¢–ï–°–¢ 1: –ü–∞—Ä—Å–∏–Ω–≥ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞**

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ Postman:

**1. –ú–µ—Ç–æ–¥:** `POST`

**2. URL:** `http://localhost:8001/parse_docx_blocks`

**3. Headers:**
```
Content-Type: multipart/form-data
```
(Postman —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ form-data)

**4. Body:**
- –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø: `form-data`
- –î–æ–±–∞–≤—å—Ç–µ –ø–æ–ª–µ:
  - **Key:** `file`
  - **Type:** `File` (–≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ dropdown)
  - **Value:** –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Ñ–∞–π–ª `C:\Projects\Anonymizer\unified_document_service\test_docs\test_01_1_4.docx`

### 5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∑–∞–ø—Ä–æ—Å

## üìä **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –æ—Ç–≤–µ—Ç–µ:**

### ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ JSON –æ—Ç–≤–µ—Ç–µ:**

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "blocks": [
    {
      "block_id": "paragraph_0",
      "text": "—Ç–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞",
      "type": "paragraph"
    },
    {
      "block_id": "table_0", 
      "text": "—Ç–µ–∫—Å—Ç —Ç–∞–±–ª–∏—Ü—ã",
      "type": "table"
    }
  ]
}
```

2. **–¢–∏–ø—ã –±–ª–æ–∫–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ `"type": "paragraph"` - –æ–±—ã—á–Ω—ã–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã
- ‚úÖ `"type": "table"` - —Ç–∞–±–ª–∏—Ü—ã
- ‚úÖ `"type": "header"` - –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª—ã –≤–µ—Ä—Ö–Ω–∏–µ
- ‚úÖ `"type": "footer"` - –∫–æ–ª–æ–Ω—Ç–∏—Ç—É–ª—ã –Ω–∏–∂–Ω–∏–µ

3. **–ù—É–º–µ—Ä–∞—Ü–∏—è –±–ª–æ–∫–æ–≤:**
- ‚úÖ `paragraph_0`, `paragraph_1`, `paragraph_2`...
- ‚úÖ `table_0`, `table_1`...
- ‚úÖ `header_section_0_paragraph_0`...
- ‚úÖ `footer_section_0_paragraph_0`...

## üîç **–î–ï–¢–ê–õ–¨–ù–´–ï –ü–†–û–í–ï–†–ö–ò:**

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–æ–≤
- [ ] –í—Å–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞–π–¥–µ–Ω—ã?
- [ ] –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–∞–π–¥–µ–Ω—ã?
- [ ] –ö–æ–ª–æ–Ω—Ç–∏—Ç—É–ª—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –ö–∞—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–∞
- [ ] –¢–µ–∫—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–±–µ–∑ –∏—Å–∫–∞–∂–µ–Ω–∏–π)?
- [ ] –†—É—Å—Å–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ?
- [ ] –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- [ ] –¢–∞–±–ª–∏—Ü—ã: —Ç–µ–∫—Å—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω —á–µ—Ä–µ–∑ " | "?
- [ ] Headers: –µ—Å—Ç—å –±–ª–æ–∫–∏ —Å —Ç–∏–ø–æ–º "header"?
- [ ] Footers: –µ—Å—Ç—å –±–ª–æ–∫–∏ —Å —Ç–∏–ø–æ–º "footer"?

### –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ü–æ–ª–Ω–æ—Ç–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
- [ ] –ù–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —á–∞—Å—Ç–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞?
- [ ] –ü–æ—Ä—è–¥–æ–∫ –±–ª–æ–∫–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç—É?

## üö® **–í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è:**

### –û—à–∏–±–∫–∞ 422 (Unprocessable Entity):
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
- **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω —Ç–∏–ø "File" –≤ form-data

### –û—à–∏–±–∫–∞ 500 (Internal Server Error):
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

### –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –∏–ª–∏ —Ç–∞–π–º–∞—É—Ç:
- **–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—â–µ–Ω
- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ `start_unified_document_service.bat`

## üìù **–®–ê–ë–õ–û–ù –î–õ–Ø –û–¢–ß–ï–¢–ê:**

–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:

```
=== –†–ï–ó–£–õ–¨–¢–ê–¢ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø BLOCK BUILDER ===

1. –°–¢–ê–¢–£–° –ó–ê–ü–†–û–°–ê:
   - HTTP Status: [200/422/500/–¥—Ä—É–≥–æ–π]
   - Response Time: [–≤—Ä–µ–º—è –≤ –º—Å]

2. –ö–û–õ–ò–ß–ï–°–¢–í–û –ë–õ–û–ö–û–í:
   - –í—Å–µ–≥–æ –±–ª–æ–∫–æ–≤: [—á–∏—Å–ª–æ]
   - –ü–∞—Ä–∞–≥—Ä–∞—Ñ–æ–≤: [—á–∏—Å–ª–æ] 
   - –¢–∞–±–ª–∏—Ü: [—á–∏—Å–ª–æ]
   - Headers: [—á–∏—Å–ª–æ]
   - Footers: [—á–∏—Å–ª–æ]

3. –ü–†–ò–ú–ï–†–´ –ë–õ–û–ö–û–í (–ø–µ—Ä–≤—ã–µ 3-5):
   [–≤—Å—Ç–∞–≤—å—Ç–µ JSON —Å –ø–µ—Ä–≤—ã–º–∏ –±–ª–æ–∫–∞–º–∏]

4. –ü–†–û–ë–õ–ï–ú–´ (–µ—Å–ª–∏ –µ—Å—Ç—å):
   - –ü—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã: [–æ–ø–∏—Å–∞–Ω–∏–µ]
   - –û—à–∏–±–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ: [–æ–ø–∏—Å–∞–Ω–∏–µ]
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã: [–æ–ø–∏—Å–∞–Ω–∏–µ]

5. –û–ë–©–ê–Ø –û–¶–ï–ù–ö–ê:
   - –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ: [–¥–∞/–Ω–µ—Ç]
   - –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É: [–¥–∞/–Ω–µ—Ç/—á–∞—Å—Ç–∏—á–Ω–æ]
```

## üéØ **–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–ï–°–¢–´:**

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ —Ç–µ—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

1. **–¢–µ—Å—Ç —Å –¥—Ä—É–≥–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏:**
   - `test_O_1_3.docx`
   - `test_–ê_1_7.docx`

2. **–¢–µ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –ó–∞—Å–µ–∫–∏—Ç–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ memory usage

3. **–¢–µ—Å—Ç –æ—à–∏–±–æ–∫:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –Ω–µ-DOCX —Ñ–∞–π–ª
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç

---
**üöÄ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏ –º—ã –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–∞—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç—ã Block Builder.